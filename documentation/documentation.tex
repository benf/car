%% Erläuterungen zu den Befehlen erfolgen unter
%% diesem Beispiel.
\documentclass{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{listings}

\title{Projekt Dokumentation}
\author{Benjamin Franzke, Jan Klemkow und Maik Rungberg}
\date{03. Januar 2010}

\begin{document}

\maketitle
\tableofcontents

\newpage

\section{Einleitung} %% TODO
	Diese Projekt-Dokumentation beschreibt die Komplette Durchführung des Mikroprozessortechnik-Projektes,
	den Aufbau der einzelnen Schaltungen und einige Technische Erläuterungen.

	In den folgenden Kapiteln werden die zwei Schaltungen und zusätzliche Entwicklungen und Umbauten erläutert.
	Als Fahrzeugschaltung wird die Schaltung bezeichnet die in das Fahrzeug verbaut wurde.
	Die Steuerschaltung ist am Computer angeschlossen und sendet die Steuerinformationen an die Fahrzeugschaltung.

\section{Umbau am Auto} %% TODO
	Als Grundlage wurde ein Funkferngesteuertes Auto benutzt,
	welches im Internet bestellt wurde (siehe link).
	%% TODO: Bezeichnung des Auto und/oder Link zum Webshop
	Die vorhandene Elektronik zur Funkfernsteuerung wurde entfernt und durch eine eigene ersetzt.
	Vom Auto wurden das Gestell, die Elektromotoren, zum Antrieb und zur Lenkung,
	sowie das Gehäuse und der Akkumolator übernommen.
	An die Kabel der der Motoren wurden Verlängerungen gelöttet,
	welche sich einfacher auf dem Steckbrettern befestigen lassen.

\newpage

\section{Fahrzeugschaltung} %% TODO
	Die Fahrzeugschaltung besteht im Zentralen aus dem ATMEGA16 und eine Funkemfänger.
	%% TODO: Bezeichnung des Funkemfängers herreussuchen.
	Die Schaltung wird über die im Fahrzeug integrieten 10 Volt Spannungsversorungs mit versort.
	Da der ATMEGA 16 eine Spannungsverogung von 5 Volt benötigt ist ein Festspannungsregler
	%% TODO: Typ des Festspannungsreglers im Auto
	zwischen Akkumolator und Microkontroler geschaltet.

	\subsection{Motoransteuerung}
		Für die Ansteuerung der Elektromotoren des Antriebs und der Lenkung sind vier Motortreiber, vom Typ L298, verbaut.
		Diese sind notwendig, um den für den Mikrokontroler zu hohen Strom für die Motoren zu regulieren.
		Die Geschwindigkeitsregelung ist mittels Pulsweitenmodulation im Mikrocontroller implementiert.
		Die verwendeten Bauelemente enthalten zwei Motortreiber. Insgesammt werden zwei Bauelemente und damit vier Motortreiber benutzt.
		Drei Motortreiber sind für den Antriebsmotor parallel zusammen geschaltet.
		Diese ist notwendig um den hohen Stromfluss für den Antrieb zu gewährleisten.
		
		%% TODO: Hier ein Bild vom internen Aufbau des Motortreibers einbinden.
	
	\subsection{Sensoren}
		Dieser Abschnitt beschreibt die Sensoren, sowie deren Funktionsweisen und Aufgaben
		in der Fahrzeugschaltung.
		\subsubsection{Lichtsensor}
			Für Bestimmung der Helligkeit der Umgebung wurde ein Fotowiderstand benutzt.
			Anhand der Umgebungshelligkeit entscheidet die Fahrzeugschaltung selbstständig,
			zu welchem Zeitpunkt es die Beleuchtung einschaltet.
		\subsubsection{Abstandssensor}
			Der Abstandssensor soll verhindern, dass das Fahrzeug frontal gegen ein Hindernis fährt.
			...
			Der verwendete Sensor kann ein Objekt in einer Distanz von 10cm bis 80cm registrieren
			und dessen Entfernung als Spannungspegel wieder geben. Dieser Spannungswert wird vom
			interen Analog-Digital-Wandler in einen digitalen Wert umgewandelt und kann dann vom
			Programm der Fahrzeugschaltung ausgewertet werden.
			...
			Ab einem vom Programmierer vorgegebenen Wert, werden alle Befehle zum Vorwärtsfahren
			ignoriert, solang bis die Distanz zwischen Hindernis und Fahrzeug wieder innerhalb
			der Toleranz liegt.
	
	\subsection{Programmierung} %% TODO: Erläuterung der Programmierung der Fahrzeugschaltung
		In diesem Abschnitt wird der Programmcode des Steuerkontrolers erklärt.

\newpage

\section{Steuerschaltung}

	\subsection{Kommuniation mit dem Computer} %% TODO
		Die Kommunikation zwischen Steuerschaltung und Computer findet über die RS-232-Schnittstelle statt.
		Diese Schnittstelle verwendet einen Spannungspegel von -15 bis -3 Volt zur Abbildung einer Logischen Eins 
		und einen Spannungspegel von 3 bis 15 Volt für eine Null.
		Der Bereich von -3 bis 3 Volt ist undefiniert.
		Auf Senderseite ist es üblich eine 12 Volt bzw. -12 Volt Spannungspegel für die Kommunikation zu benutzten.

		Diese Definition der RS-232 Schnittstelle, ist für den Verwendeten Mikrocontroller ein Problem,
		da dieser an seinen Pins nur eine Spannungspegel von 0 bis 5 Volt erzeugen kann.

		Zur Erzeugung des notwendigen Spannungspegels von -12 bzw. 12 Volt wird in der Steuerschaltung der Pegelwandler MAX232 benutzt.
		Die folgende Abbildung zeigt die Beschaltung des MAX-232 mit dem Mikrocontroller und der RS-232-Schnittstelle des Computers.
		%% TODO: Bild einfügen von MAX232-µC-PC

		Für die Kommunikation wird eine externer Quatz benötigt, da der intere Quatz zu ungenau und zu fehleranfällig ist.
		Bei einem Versuch mit dem internen Quatz konnte eine kommunikation mit 600 Baud realisiert werden.
		Diese funktionierte allerdings an einem anderen Standort nicht mehr. Diese Phänomen kann auf die fehler anfälligkeit,
		z.B. bei Temperaturveränderungen zurückgeführt werden.

	\subsection{Anbindung des Gamepad} %% TODO
		Ein Gamepad wird für die Schnittstelle zum Benutzer verwendet.
		Dafür wurde ein Programm in der Programmiersprache C implementiert,
		welches die Steuerinformationen vom Gamepad über die RS-232 Schnittstelle zum Steuercontroller weiterleitet.
	
	\subsection{Programmierung} %% TODO: Erläuterung der Programmierung der Steuerschaltung

\section{Funkverbindung zwischen Fahzeugschaltung und Steuerschaltung} %% TODO

\newpage

\section{Quelltext} %% TODO
	In diesem Kapitel werden die einzelnen Quelltexte, der für dieses Projekt entwickelten Programme, aufgelistet.

\include{sender.c}

%% vim: set sts=0 fenc=utf-8: 
